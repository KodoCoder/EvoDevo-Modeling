* Run Simulation
** Purpose
+ This code runs the Bullet Physics code, and then extracts all
  pertinent information from the created files.
** Use
+ Used right after blueprint_send module.
* Code
#+BEGIN_SRC python :results output replace pp :export both :tangle yes
  # ###Code###
  import os
  import time
  
  
  def grab_data(data_file):
      """Returns a list of data that was generated by the simulation
  
      """
      with open(data_file, 'r') as fr:
          return [line.strip('\n') for line in fr]
  
  
  def run_simulation():
      """Returns fitness after running the simulation.
  
      """
      app_file = '../c++/app'
      data_file = '../io/simulation_data.dat'
      check_file = '../io/buffer.dat'
      while not os.path.isfile(check_file):
          time.sleep(0.1)
      os.system(app_file)
      while not os.path.isfile(data_file):
          time.sleep(0.1)
      fitness = grab_data(data_file)
      os.remove(check_file)
      os.remove(data_file)
      return fitness[0]
  
  
#+END_SRC
